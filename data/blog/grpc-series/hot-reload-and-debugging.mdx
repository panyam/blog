---
title: 'Part 7 - Hot reload and Debugging'
date: 2023-08-05T15:32:14Z
tags: ['grpc', 'hot reload', 'air', 'debugging', 'docker', 'Dockerfile']
draft: false
summary: 'We held off on packaging our main app in the docker-compose file since go binaries could not be hot reloaded (on file changes) by default.  We will use the popular Air framework to enable hot reloading of our service on file changes and then package this via docker.  We will also enable remote debugging of these services running in Docker'
authors: ['Sri Panyam']
layout: PostSimple
---

## Introduction

Our OneHub chat service is taking shape in our [gRPC Series](/blog/grpc-series/index).  In [Part 5]() we introduced Docker for packaging all the components of our services.  At that point it only contained the Database (postgres and pgadmin) but we left out the main service binary out of this packaging (via docker-compose.yml file).  This was because go binaries needed a rebuild each time source files changed and this in turn would need a rebuild of our docker image - a time consuming process.  A hot reload/compilation of the service binary without a rebuild of the docker image was missing.

In this post we will rectify this by using the popular [Air](https://github.com/cosmtrek/air) framework to enable hot reloading/compilation of our service binaries.

## Getting started

Our code for this part can be found in the [PART7_AIR branch](https://github.com/panyam/onehub/tree/PART7_AIR) of the [OneHub repo](https://github.com/panyam/onehub).

